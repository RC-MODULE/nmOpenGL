# nmOpenGL

Графическая библиотека для NeuroMatrix

## Submodules
Библиотека nmOpenGL использует для своей работы следующие подмодули:
- nmpp
- hal
- vshell


# Настройка
Проекты делятся на две части - target и host.
Для сборки target-части необходим установленный NMC-SDK и БЗИО >=5.
Для сборки host-части необходима Visual Studio 2015 или 2017.
В сборках используются переменные NMPP, HAL и VSHELL. Если они не объявлены, то при сборке эти переменные устанавливаются в соответствующие папки сабмодулей

# Сборка
## Сборка графической библиотеки
1. Перейти в папку make
2. Вызвать `make`
3. В корне появится папка lib, в которой появятся библиотеки libnmopengl_nmc4.a и libnmopengl_nmc4f.a

## Создание проекта
Шаблон проекта лежит в папке app/templates/project_make_new. Проект должен лежать в корневой папке репозитория

## Сборка проекта
### Сборка для платы mc12101
Для примера рассматривается проект 2nmc-demo-gcc, вариация для mc12101

В папке 2nmc-demo-gcc\make_mc12101, необходимо вызвать `make`. Поддерживаются следующие цели:
- `make nm0`
- `make nm1`
- `make host`
- `make clean`

### Сборка эмуляции на хосте
Для примера рассматривается проект 2nmc-demo-gcc, вариация для х86

В папке 2nmc-demo-gcc\make_x86, необходимо вызвать `make`. Поддерживаются следующие цели:
- `make nm0`
- `make nm1`
- `make host`
- `make clean`

# Монитор
Для упрощения работы с target-частью было написано графическое приложение на Qt. Приложение может загружать и запускать исполняемые файлы для NeuroMatrix, выводить получаемое изображение на экран и вести статистику вызываемых функций. В данный момент программа работает только с локально подключенными платами

## Настройка
Приложение можно настроить следующими способами:
- Вручную, средствами Qt, проект лежит в папке monitor.
- Установить при помощи инсталлера nmOpenGL_monitor_installer.exe

